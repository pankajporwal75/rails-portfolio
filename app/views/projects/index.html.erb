<div class="d-flex justify-content-between ms-0 m-4">
  <div class="float-left">
    <h1>Projects</h1>
  </div>
  <div class="float-right">
    <%= link_to "New project", new_project_path, class: "btn btn-primary float-right" %>
  </div>
</div>

<div id="projects">
  <% @projects.each do |project| %>
		<article class="postcard light red">
      <%= link_to project, class: 'postcard__img_link' do %>
        <% if project.image.attached? %>
          <%= image_tag(project.image, class: "postcard__img") %>
        <% else %>
          <p>No image attached for this project.</p>
        <% end %>
      <% end %>
			<div class="postcard__text t-dark">
				<h1 class="postcard__title red"><%= project.name %></h1>
				<div class="postcard__subtitle small">
						<h6><%= project.description %></h6>
				</div>
				<div class="postcard__bar"></div>
				<div class="postcard__preview-txt"><%= get_active_status(project) %></div>
        <ul class="postcard__tagbox">
          <%= link_to project_path(project), class: 'btn btn-info btn-sm m-2' do %>
            <i class="fas fa-eye"></i> Show
          <% end %>
          <%= link_to edit_project_path(project), class: 'btn btn-warning btn-sm m-2' do %>
            <i class="fas fa-edit"></i> Edit
          <% end %>
          <%= button_to project, method: :delete, class: 'btn btn-danger btn-sm m-2', data: { confirm: 'Are you sure you want to delete this project?' } do %>
            <i class="fas fa-trash"></i> Delete
          <% end %>
          <% if project.active %>
            <%= link_to toggle_status_project_path(project), class: 'btn btn-sm m-2' do %>
              <i class="fa-solid fa-toggle-on fa-2xl"></i>
            <% end %>
          <% else %>
            <%= link_to toggle_status_project_path(project), class: 'btn btn-sm m-2' do %>
              <i class="fa-solid fa-toggle-off fa-2xl"></i>
            <% end %>
          <% end %>
        </ul>
			</div>
		</article>
  <% end %>
</div>